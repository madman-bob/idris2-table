. ../testutils.sh

basicTest ExampleSchema.idr << EOF
    exampleSchema

    names exampleSchema
    types exampleSchema

    exampleSchema ++ additionalColumns

    replace exampleSchema "age" ("isTeen" :! Bool)
    update exampleSchema "age" Int
    update exampleSchema [<"age" :! Int, "favorite color" :! Maybe String]

    complement exampleSchema [<"age"]
    complement exampleSchema [<"name", "favorite color"]
    complement exampleSchema [<1]
    complement exampleSchema [<0, 2]
    complement exampleSchema [<"age", 2]

    drop exampleSchema "age"
    drop exampleSchema "favorite color"
    drop exampleSchema "grade"

    drop exampleSchema 1
    drop exampleSchema 2
    drop exampleSchema 3
EOF
